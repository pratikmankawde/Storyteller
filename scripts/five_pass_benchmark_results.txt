======================================================================
5-PASS CHARACTER ANALYSIS BENCHMARK RESULTS
Date: 2026-01-31
======================================================================

COMPREHENSIVE MODEL COMPARISON
==============================

| Model                      | Size   | Pass1  | Pass2  | Pass2.5 | Pass3  | Pass4  | TOTAL  | PP t/s | TG t/s |
|----------------------------|--------|--------|--------|---------|--------|--------|--------|--------|--------|
| qwen3-1.7b-q4_k_m          | 1.19GB | 9.8s   | 25.1s  | 23.5s   | 11.6s  | 17.0s  | ~87s   | 114.0  | 21.3   |
| Qwen3-1.7B-Q8_0            | 1.71GB | 15.0s  | 41.6s  | 58.6s   | 20.4s  | 27.8s  | ~163s  | 66.8   | 14.6   |
| qwen2.5-3b-instruct-q4_k_m | 1.96GB | 16.0s  | 37.0s  | 24.8s   | 14.0s  | 22.0s  | ~114s  | 60.8   | 13.4   |
| Qwen3-4B-Q4_K_M            | 2.33GB | 22.4s  | 59.6s  | 27.1s   | 32.1s  | 42.1s  | ~183s  | 42.9   | 8.8    |
| Phi-3-medium-128k (ONNX)   | 7.5GB  | N/A - Requires ONNX Runtime, not compatible with llama.cpp |

CORRECTNESS ANALYSIS
====================
All GGUF models correctly extracted: ["Jax", "Lyra", "Kael", "Zane"] ✅

| Model                      | Pass1 JSON | Pass2 JSON | Pass2.5 JSON | Pass3 JSON | Pass4 JSON | Trait Quality |
|----------------------------|------------|------------|--------------|------------|------------|---------------|
| qwen3-1.7b-q4_k_m          | ✅ Valid   | ✅ Valid   | ✅ Valid     | ✅ Valid   | ✅ Valid   | Basic         |
| Qwen3-1.7B-Q8_0            | ✅ Valid   | ✅ Valid   | ✅ Valid     | ✅ Valid   | ✅ Valid   | Rich          |
| qwen2.5-3b-instruct-q4_k_m | ✅ Valid   | ✅ Valid   | ✅ Valid     | ✅ Valid   | ✅ Valid   | Good          |
| Qwen3-4B-Q4_K_M            | ✅ Valid   | ✅ Valid   | ✅ Valid     | ✅ Valid   | ✅ Valid   | Excellent     |

RECOMMENDATIONS
===============
1. FASTEST: qwen3-1.7b-q4_k_m (87s total, 114 t/s PP) - Best for mobile/low-resource
2. BEST BALANCE: qwen2.5-3b-instruct-q4_k_m (114s total, good quality)
3. BEST QUALITY: Qwen3-4B-Q4_K_M (183s total, richest trait extraction)
4. CURRENT APP: Qwen3-1.7B-Q8_0 (163s total) - Consider switching to Q4_K_M for 2x speed

NOTE: Phi-3-medium ONNX model requires ONNX Runtime with DirectML backend.
      It cannot be tested with llama.cpp/llama-server.

======================================================================
DETAILED RESULTS - Qwen3-4B-Q4_K_M (BEST QUALITY)
======================================================================

[PASS 1] Character Name Extraction
  Elapsed: 22.43s
  PP Speed: 42.9 t/s
  TG Speed: 8.8 t/s
  Valid JSON: True
  Output: {"characters": ["Jax", "Lyra", "Kael", "Zane"]}

[PASS 2] Trait Extraction
  Character: Jax
    Elapsed: 28.76s
    Valid JSON: True
    Traits: ['overconfident', 'adventurous', 'rugged', 'swagger', 'smirking', 'energetic', 'gravelly', 'charismatic']
  Character: Lyra
    Elapsed: 30.83s
    Valid JSON: True
    Traits: ['Infectious curiosity', 'boundless empathy', 'Bright', 'breathless with wonder', 'warm', 'High inflection at the end of sentences']

[PASS 2.5] Dialog Extraction
  Elapsed: 27.08s
  PP Speed: 31.5 t/s
  TG Speed: 8.7 t/s
  Valid JSON: True
  Dialogs found: 0
  Output: {"dialogs": []}...

[PASS 3] Personality Inference
  Character: Jax
    Elapsed: 17.13s
    Valid JSON: True
    Personality: ['Overconfident and charismatic, Jax exudes self-assuredness in every interaction.', 'Adventurous and energetic, Jax is always seeking new experiences and challenges.', 'Rugged and gravelly, Jax has a tough, weathered appearance that matches his bold personality.']
  Character: Lyra
    Elapsed: 14.94s
    Valid JSON: True
    Personality: ['Infectious curiosity that draws others into exploration', 'Boundless empathy that radiates warmth and understanding', 'Bright and breathless with wonder, always exuding enthusiasm']

[PASS 4] Voice Profile Suggestion
  Character: Jax
    Elapsed: 21.37s
    Valid JSON: True
    Output: {
  "character": "Jax",
  "voice_profile": {
    "pitch": 1.2,
    "speed": 1.1,
    "energy": 1.0,
    "gender": "male",
    "age": "middle-aged",
    "tone": "gravelly and confident",
    "accent": "neutral"
  }
}
  Character: Lyra
    Elapsed: 20.77s
    Valid JSON: True
    Output: {
  "character": "Lyra",
  "voice_profile": {
    "pitch": 1.0,
    "speed": 1.0,
    "energy": 1.0,
    "gender": "female",
    "age": "young",
    "tone": "warm, inviting, and enthusiastic with a natural breathlessness",
    "accent": "neutral"
  }
}

======================================================================
DETAILED RESULTS - qwen2.5-3b-instruct-q4_k_m (BEST BALANCE)
======================================================================

[PASS 1] Character Name Extraction
  Elapsed: 16.0s
  PP Speed: 60.8 t/s | TG Speed: 13.4 t/s
  Valid JSON: True
  Output: {"characters": ["Jax", "Lyra", "Kael", "Zane"]}

[PASS 2] Trait Extraction
  Character: Jax - Elapsed: 18.5s
    Traits: ["Overconfident", "adventurous", "slightly rugged"]
  Character: Lyra - Elapsed: 18.5s
    Traits: ["Wide-Eyed", "Infectious Curiosity", "Boundless Empathy"]

[PASS 2.5] Dialog Extraction
  Elapsed: 24.8s | Dialogs found: 1
  Valid JSON: True

[PASS 3] Personality Inference
  Character: Jax - Personality: ["confident with a rough exterior", "adventurous but possibly reckless"]
  Character: Lyra - Personality: ["Curious and empathetic, her wide-eyed gaze reflects her boundless curiosity"]

[PASS 4] Voice Profile Suggestion
  Character: Jax - Voice: pitch=1.0, gender=male, age=middle-aged
  Character: Lyra - Voice: pitch=1.0, gender=female, age=young

======================================================================
SAMPLE TRAIT EXTRACTION COMPARISON
======================================================================

CHARACTER: Jax
--------------
qwen3-1.7b-q4_k_m:          []  (no traits extracted)
Qwen3-1.7B-Q8_0:            ["overconfident", "adventurous", "rugged", "cocky", "swagger", "smirking", "energetic", "gravelly but charismatic"]
qwen2.5-3b-instruct-q4_k_m: ["Overconfident", "adventurous", "slightly rugged"]
Qwen3-4B-Q4_K_M:            ["overconfident", "adventurous", "rugged", "swagger", "smirking", "energetic", "gravelly", "charismatic"]

CHARACTER: Lyra
---------------
qwen3-1.7b-q4_k_m:          ["Medium-High Pitch", "Moderate to fast Pacing", "Bright, breathless with wonder"]
Qwen3-1.7B-Q8_0:            ["tall", "red hair", "scarred"]
qwen2.5-3b-instruct-q4_k_m: ["Wide-Eyed", "Infectious Curiosity", "Boundless Empathy"]
Qwen3-4B-Q4_K_M:            ["Infectious curiosity", "boundless empathy", "Bright", "breathless with wonder", "warm"]

CONCLUSION: Qwen3-4B extracts the richest traits, but qwen2.5-3b offers best speed/quality balance.
