======================================================================
PASS-2 TRAIT EXTRACTION OPTIMIZATION RESULTS
Model: qwen3-1.7b-q4_k_m
Date: 2026-02-01 00:14:56
======================================================================

PROMPT COMPARISON (4000 char text, 3 runs each)
----------------------------------------------------------------------
Prompt               Avg Time   Traits   Valid%   Tokens   MaxTok  
----------------------------------------------------------------------
build_v5_structured  4.7s      3.0      100%      47       320
build_v4_minimal     7.4s      2.0      100%      26       192
build_v2_simplified  7.8s      3.0      100%      68       256
build_v1_original    8.9s      15.0      100%      117       512
build_v3_fewshot     9.1s      4.0      100%      32       256
build_v6_optimized   9.8s      11.3      100%      69       256
build_v7_combined    17.8s      3.0      100%      108       384

FASTEST: build_v5_structured (4.7s avg)
Sample traits: ['physical: bionic eye', 'behavioral: smirking and energetic', 'speech: medium-low pitch, dynamic pacing, gravelly but charismatic']

TEXT SIZE COMPARISON (V2_Simplified)
----------------------------------------------------------------------
small      (2000 chars): 9.2s, 3.0 traits
medium     (4000 chars): 7.8s, 3.0 traits
large      (6000 chars): 11.0s, 3.0 traits
xlarge     (8000 chars): 9.6s, 3.0 traits

======================================================================
V7 COMBINED (TRAITS + VOICE PROFILE) ANALYSIS
======================================================================
Avg Time: 17.8s
Traits: 3.0
Valid JSON: 100%
Voice Profile Rate: 100%
Sample Voice Profile: {'pitch': 0.8, 'speed': 1.1, 'energy': 0.9, 'gender': 'male', 'age': 'middle-aged', 'tone': 'gravelly and charismatic', 'accent': 'neutral', 'speaker_id': 45}

COMPARISON (skipping Pass-3):
  V7_Combined (single call): 17.8s
  V2 + Pass-4 (two calls): ~14.1s estimated
  Time Savings: -3.7s (-26%)

======================================================================
RECOMMENDATIONS
======================================================================
2. Use max_tokens=256 (sufficient for trait lists)
3. Use 4000 char text size (good balance of context vs speed)
4. Temperature 0.1 is optimal for consistent JSON output
5. V7_Combined can replace Pass-2 + Pass-3 + Pass-4 (3-pass â†’ 1-pass)
