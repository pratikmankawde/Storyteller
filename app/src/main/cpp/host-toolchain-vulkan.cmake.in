# Host toolchain for vulkan-shaders-gen
set(CMAKE_SYSTEM_NAME Windows)
set(CMAKE_BUILD_TYPE Release)
set(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
set(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY NEVER)
set(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE NEVER)
set(CMAKE_MAKE_PROGRAM "@NINJA_PATH@" CACHE FILEPATH "Ninja for host builds" FORCE)
set(CMAKE_C_COMPILER "@HOST_C_COMPILER@")
set(CMAKE_CXX_COMPILER "@HOST_CXX_COMPILER@")

# Skip try_compile so configure does not fail when cross-compiling;
# set compiler ID/version so target_compile_features(cxx_std_17) and project() succeed.
set(CMAKE_C_COMPILER_WORKS TRUE CACHE INTERNAL "" FORCE)
set(CMAKE_CXX_COMPILER_WORKS TRUE CACHE INTERNAL "" FORCE)
if(NOT "@HOST_CXX_COMPILER_ID@" STREQUAL "")
  set(CMAKE_CXX_COMPILER_ID "@HOST_CXX_COMPILER_ID@" CACHE INTERNAL "")
  set(CMAKE_CXX_COMPILER_VERSION "@HOST_CXX_COMPILER_VERSION@" CACHE INTERNAL "")
  # C compiler same family as CXX for GNU/MinGW
  if("@HOST_CXX_COMPILER_ID@" STREQUAL "GNU")
    set(CMAKE_C_COMPILER_ID "GNU" CACHE INTERNAL "")
    set(CMAKE_C_COMPILER_VERSION "@HOST_CXX_COMPILER_VERSION@" CACHE INTERNAL "")
    set(CMAKE_C_STANDARD_COMPUTED_DEFAULT "11" CACHE INTERNAL "")
    set(CMAKE_C_EXTENSIONS_COMPUTED_DEFAULT "ON" CACHE INTERNAL "")
    set(CMAKE_CXX_STANDARD_COMPUTED_DEFAULT "17" CACHE INTERNAL "")
    set(CMAKE_CXX_EXTENSIONS_COMPUTED_DEFAULT "ON" CACHE INTERNAL "")
  endif()
endif()
