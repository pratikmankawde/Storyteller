{  "project": "Dramebaz",  "category": "Generative UI Theme Analysis",  "description": "LLM-powered UI theme generation based on book mood and content analysis",  "version": "1.0",  "last_updated": "2026-02-05",  "instructions_source": "NovelReaderWeb/docs/FEATURES.md, NovelReaderWeb/docs/AI.md",  "reference_project": "C:\\Users\\Pratik\\source\\NovelReaderWeb",  "total_estimated_hours": 6,  "milestones": [    {      "id": "THEME-M1",      "name": "Generative UI Theme Analysis",      "description": "LLM-based mood extraction and dynamic color scheme generation",      "done": true,      "task_ids": ["THEME-001"]    }  ],  "tasks": [    {      "id": "THEME-001",      "feature": "Generative UI Theme Analysis",      "description": "Use LLM to analyze book content and generate appropriate UI color schemes, fonts, and atmosphere settings.",      "done": true,      "status": "completed",      "priority": "MEDIUM",      "estimated_hours": 6,      "reference_docs": [        "NovelReaderWeb/docs/FEATURES.md - Section 'Generative UI'",        "NovelReaderWeb/docs/AI.md - Section 'Theme Generation Prompt'"      ],      "files_to_modify": [        "app/src/main/java/com/dramebaz/app/ai/theme/ThemeGenerator.kt (new)",        "app/src/main/java/com/dramebaz/app/data/models/GeneratedTheme.kt (new)",        "app/src/main/java/com/dramebaz/app/ui/reader/ReaderFragment.kt",        "app/src/main/java/com/dramebaz/app/ui/theme/DynamicThemeManager.kt (new)"      ],      "implementation_notes": "Sample book content (title, first chapters). LLM extracts mood, genre, era. Map to color palette and font family. Apply dynamically in ReaderFragment. Store per-book theme.",      "work_items": [        "Create ThemeGenerator class with LLM prompt",        "Create GeneratedTheme data class with colors, fonts, mood",        "Create DynamicThemeManager to apply themes",        "Define mood-to-color mappings (dark/gothic, bright/romance, etc.)",        "Define genre-to-font mappings (serif for classics, sans for modern)",        "Store generated theme per book in database",        "Apply theme in ReaderFragment on book load",        "Add theme preview in book detail screen"      ],      "sub_tasks": [        {"id": "THEME-001.1", "description": "Create GeneratedTheme.kt data model", "done": true},        {"id": "THEME-001.2", "description": "Create ThemeGenerator.kt with LLM prompt", "done": true},        {"id": "THEME-001.3", "description": "Define mood-to-color palette mappings", "done": true},        {"id": "THEME-001.4", "description": "Define genre-to-font mappings", "done": true},        {"id": "THEME-001.5", "description": "Create DynamicThemeManager.kt", "done": true},        {"id": "THEME-001.6", "description": "Integrate theme application in ReaderFragment", "done": true}      ],      "mood_color_mappings": {        "dark_gothic": {"primary": "#1A1A2E", "secondary": "#16213E", "accent": "#E94560", "text": "#EAEAEA"},        "romantic": {"primary": "#FFF5F5", "secondary": "#FFE4E1", "accent": "#FF69B4", "text": "#4A4A4A"},        "adventure": {"primary": "#2C3E50", "secondary": "#34495E", "accent": "#E67E22", "text": "#ECF0F1"},        "mystery": {"primary": "#1C1C1C", "secondary": "#2D2D2D", "accent": "#9B59B6", "text": "#D0D0D0"},        "fantasy": {"primary": "#1A1A40", "secondary": "#270082", "accent": "#7A0BC0", "text": "#E8E8E8"},        "scifi": {"primary": "#0D1B2A", "secondary": "#1B263B", "accent": "#00F5D4", "text": "#E0E1DD"},        "classic": {"primary": "#FAF3E0", "secondary": "#E8DCC4", "accent": "#8B4513", "text": "#2C2C2C"}      },      "genre_font_mappings": {        "classic_literature": "Merriweather",        "modern_fiction": "Open Sans",        "fantasy": "Cinzel",        "scifi": "Roboto Mono",        "romance": "Playfair Display",        "thriller": "Oswald"      },      "llm_prompt": "Analyze this book content and determine its mood and atmosphere:\n\nTitle: {title}\nFirst Chapter Sample:\n{chapter_sample}\n\nDetermine:\n1. Primary mood (dark_gothic, romantic, adventure, mystery, fantasy, scifi, classic)\n2. Genre (classic_literature, modern_fiction, fantasy, scifi, romance, thriller)\n3. Era setting (historical, contemporary, futuristic)\n4. Emotional tone (somber, uplifting, tense, whimsical)\n\nReturn JSON:\n{\n  \"mood\": \"dark_gothic\",\n  \"genre\": \"thriller\",\n  \"era\": \"contemporary\",\n  \"emotional_tone\": \"tense\",\n  \"suggested_ambient_sound\": \"rain\"\n}",      "code_pattern": "// From NovelReaderWeb docs/FEATURES.md\ndata class GeneratedTheme(\n    val bookId: Long,\n    val mood: String,\n    val genre: String,\n    val primaryColor: Int,\n    val secondaryColor: Int,\n    val accentColor: Int,\n    val textColor: Int,\n    val fontFamily: String,\n    val suggestedAmbientSound: String?\n)\n\nclass DynamicThemeManager(private val context: Context) {\n    fun applyTheme(theme: GeneratedTheme, rootView: View) {\n        rootView.setBackgroundColor(theme.primaryColor)\n        // Apply font family to text views\n        // Apply accent color to buttons and highlights\n    }\n}"    }  ],  "notes": {    "theme_persistence": "Store generated theme in Book entity or separate ThemeEntity",    "user_override": "Allow users to override generated theme with manual selection",    "performance": "Generate theme once on book import, cache for subsequent reads"  }}